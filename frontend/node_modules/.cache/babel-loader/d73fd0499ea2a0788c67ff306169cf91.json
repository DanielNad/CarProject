{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Projects\\\\Web Development\\\\Rescana\\\\CarProjects\\\\frontend\\\\src\\\\Components\\\\main\\\\Editable.jsx\";\nimport { TableCell, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React from \"react\";\nconst URI = \"http://localhost:9000/api\";\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n};\n\nclass Editable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClickEdit = this.onClickEdit.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n    this.state = {\n      ifClick: false,\n      data: this.props.name\n    };\n  }\n\n  onClickEdit() {\n    this.setState(() => {\n      return {\n        ifClick: true\n      };\n    });\n  }\n\n  onChangeValue(event) {\n    console.log(event);\n    this.setState(() => {\n      console.log(event.target.value);\n      return {\n        data: event.target.value\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let timer;\n\n    if (prevState.data !== this.state.data) {\n      timer = setTimeout(async () => {\n        try {\n          console.log(this.props);\n          console.log(this.state);\n          const res = await axios.patch(`${URI}/data`, {\n            config,\n            data: {\n              _id: this.props._id,\n              name: this.state.data\n            }\n          });\n\n          if (res === 200) {\n            console.log(\"ok\");\n          } else {\n            console.log(\"not ok\");\n          }\n        } catch (error) {}\n      }, 5000);\n    }\n\n    return () => clearTimeout(timer);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(TableCell, {\n      children: this.state.ifClick ? /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        value: this.state.data,\n        onChange: e => {\n          this.onChangeValue(e);\n        },\n        label: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: this.onClickEdit,\n        children: [\" \", this.state.data]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Editable;","map":{"version":3,"sources":["C:/Users/Administrator/Documents/Projects/Web Development/Rescana/CarProjects/frontend/src/Components/main/Editable.jsx"],"names":["TableCell","TextField","axios","React","URI","config","headers","Editable","Component","constructor","props","onClickEdit","bind","onChangeValue","state","ifClick","data","name","setState","event","console","log","target","value","componentDidUpdate","prevProps","prevState","timer","setTimeout","res","patch","_id","error","clearTimeout","render","e"],"mappings":"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","sourcesContent":["import { TableCell, TextField } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\n\r\nconst URI = \"http://localhost:9000/api\";\r\nconst config = {\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nclass Editable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClickEdit = this.onClickEdit.bind(this);\r\n    this.onChangeValue = this.onChangeValue.bind(this);\r\n    this.state = {\r\n      ifClick: false,\r\n      data: this.props.name,\r\n    };\r\n  }\r\n\r\n  onClickEdit() {\r\n    this.setState(() => {\r\n      return { ifClick: true };\r\n    });\r\n  }\r\n\r\n  onChangeValue(event) {\r\n    console.log(event);\r\n    this.setState(() => {\r\n      console.log(event.target.value);\r\n      return { data: event.target.value };\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let timer;\r\n    if (prevState.data !== this.state.data) {\r\n      timer = setTimeout(async () => {\r\n        try {\r\n          console.log(this.props);\r\n          console.log(this.state);\r\n          const res = await axios.patch(`${URI}/data`, {\r\n            config,\r\n            data: {\r\n              _id: this.props._id,\r\n              name: this.state.data,\r\n            },\r\n          });\r\n          if (res === 200) {\r\n            console.log(\"ok\");\r\n          } else {\r\n            console.log(\"not ok\");\r\n          }\r\n        } catch (error) {}\r\n      }, 5000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TableCell>\r\n        {this.state.ifClick ? (\r\n          <TextField\r\n            autoFocus\r\n            value={this.state.data}\r\n            onChange={(e) => {\r\n              this.onChangeValue(e);\r\n            }}\r\n            label=\"name\"\r\n          />\r\n        ) : (\r\n          <div onClick={this.onClickEdit}> {this.state.data}</div>\r\n        )}\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\nexport default Editable;\r\n"]},"metadata":{},"sourceType":"module"}