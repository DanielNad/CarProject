{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Projects\\\\Web Development\\\\Rescana\\\\CarProjects\\\\frontend\\\\src\\\\Components\\\\table\\\\NewCar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\"; // import { makeStyles } from '@material-ui/core/styles';\n\nimport { TextField, Button } from \"@material-ui/core\"; // const useStyles = makeStyles((theme) => ({\n//   root: {\n//     padding: theme.spacing(4),\n//   },\n// }));\n\nconst NewCar = props => {\n  _s();\n\n  const [car, setCar] = useState({});\n\n  const handelChangeName = event => {\n    event.persist();\n    setCar({ ...car,\n      name: event.target.value\n    });\n  };\n\n  const handelChangeSpeed = event => {\n    event.persist();\n    setCar({ ...car,\n      topSpeed: event.target.value\n    });\n  };\n\n  const handelChangePrice = event => {\n    event.persist();\n    setCar({ ...car,\n      price: event.target.value\n    });\n  };\n\n  const handleSaveData = async event => {\n    event.preventDefault();\n    const data = car;\n    const res = await fetch(`${props.url}/data`, {\n      method: \"POST\",\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n\n    if (res.status === 200) {\n      let id = 0;\n      const tableData = props.data.map((car, index) => {\n        id++;\n        return car;\n      });\n      const lastCar = {\n        _id: id + 1,\n        ...car\n      };\n      tableData.push(lastCar);\n      console.log(tableData);\n      props.setData(tableData);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add a new car\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        id: \"CarName\",\n        label: \"Car name\",\n        variant: \"outlined\",\n        onChange: handelChangeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"TopSpeed\",\n        label: \"Top speed\",\n        variant: \"outlined\",\n        onChange: handelChangeSpeed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"Price\",\n        label: \"Price\",\n        variant: \"outlined\",\n        onChange: handelChangePrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        onClick: handleSaveData,\n        children: \"Add car\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NewCar, \"It1JTp6NPoYxzAqhaC2TKCy3/ZI=\");\n\n_c = NewCar;\nexport default NewCar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewCar\");","map":{"version":3,"sources":["C:/Users/Administrator/Documents/Projects/Web Development/Rescana/CarProjects/frontend/src/Components/table/NewCar.jsx"],"names":["React","useState","TextField","Button","NewCar","props","car","setCar","handelChangeName","event","persist","name","target","value","handelChangeSpeed","topSpeed","handelChangePrice","price","handleSaveData","preventDefault","data","res","fetch","url","method","headers","Accept","body","JSON","stringify","status","id","tableData","map","index","lastCar","_id","push","console","log","setData"],"mappings":"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","sourcesContent":["import React, { useState} from \"react\";\r\n// import { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    TextField,\r\n    Button,\r\n } from \"@material-ui/core\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   root: {\r\n//     padding: theme.spacing(4),\r\n//   },\r\n// }));\r\n\r\nconst NewCar = (props) => {\r\n  \r\n  const [car , setCar] =  useState({})\r\n\r\n  const handelChangeName = (event)=>{\r\n    event.persist();\r\n    setCar({...car, name : event.target.value})\r\n  }\r\n\r\n  const handelChangeSpeed = (event)=>{\r\n    event.persist();\r\n    setCar({...car, topSpeed : event.target.value})\r\n  }  \r\n\r\n  const handelChangePrice = (event)=>{\r\n    event.persist();\r\n    setCar({...car, price : event.target.value})\r\n  }\r\n\r\n  const handleSaveData = async (event)=>{\r\n    event.preventDefault();\r\n    const data = car;\r\n        const res = await fetch(\r\n          `${props.url}/data`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data)\r\n          }\r\n        );\r\n        if(res.status===200){\r\n            let id = 0;\r\n            const tableData = props.data.map((car,index)=>{id++; return car;});\r\n            const lastCar = {_id: id+1 , ...car}\r\n            tableData.push(lastCar);\r\n            console.log(tableData);\r\n            props.setData(tableData);\r\n        }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n        <h1>Add a new car</h1>\r\n        <form>\r\n        <TextField id=\"CarName\" label=\"Car name\" variant=\"outlined\" onChange = {handelChangeName} />\r\n        <TextField id=\"TopSpeed\" label=\"Top speed\" variant=\"outlined\" onChange = {handelChangeSpeed} />\r\n        <TextField id=\"Price\" label=\"Price\" variant=\"outlined\" onChange = {handelChangePrice} />\r\n        <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                onClick={handleSaveData}\r\n              >\r\n                Add car\r\n              </Button>\r\n        </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default NewCar;\r\n"]},"metadata":{},"sourceType":"module"}